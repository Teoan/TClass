(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d9c01114"],{"20c8":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"noticeMana-div"},[i("el-card",{staticClass:"box-card-noticedata",attrs:{shadow:"hover","body-style":{height:"100%"}}},[i("el-input",{staticStyle:{width:"500px","margin-top":"20px"},attrs:{placeholder:"请输入通知标题搜索"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.selectNoticeByName(t)}},model:{value:e.selectNoticeTitle,callback:function(t){e.selectNoticeTitle=t},expression:"selectNoticeTitle"}}),i("el-date-picker",{staticStyle:{"margin-left":"20px","margin-top":"20px"},attrs:{align:"right",type:"date","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期","picker-options":e.pickerOptions},model:{value:e.selectCreateTime,callback:function(t){e.selectCreateTime=t},expression:"selectCreateTime"}}),i("el-button",{staticStyle:{"margin-left":"20px","margin-top":"20px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.selectNoticeByName}},[e._v("搜索")]),i("el-button",{staticStyle:{"margin-left":"20px","margin-top":"20px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.addNotice}},[e._v("发布通知")]),e.multipleSelection.length>0?[i("el-popconfirm",{attrs:{title:"确定批量删除所选通知吗？"},on:{onConfirm:e.deleteNotices}},[i("el-button",{staticStyle:{"margin-left":"20px"},attrs:{slot:"reference",type:"danger",icon:"el-icon-delete"},slot:"reference"},[e._v("批量删除")])],1)]:e._e(),i("div",{staticClass:"table-div"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.noticeDataList,height:"100%",border:""},on:{"selection-change":e.handleSelectionChange}},[i("el-tooltip",{attrs:{content:"选中可进行批量删除",placement:"top"}},[i("el-table-column",{attrs:{type:"selection",width:"55"}})],1),i("el-table-column",{attrs:{prop:"title",label:"标题","min-width":"100"}}),i("el-table-column",{attrs:{prop:"sname",label:"发布人","min-width":"110"}}),i("el-table-column",{attrs:{prop:"editSName",label:"最近编辑","min-width":"110"}}),i("el-table-column",{attrs:{prop:"createTime",label:"创建时间","min-width":"120"}}),i("el-table-column",{attrs:{prop:"updateTime",label:"更新时间","min-width":"120"}}),i("el-table-column",{attrs:{fixed:"right","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("div",{staticClass:"cell-contain"},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(i){return e.handleEdit(t.row)}}},[e._v("编辑")]),i("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(i){return e.handleDelete(t.row)}}},[e._v("删除")])],1)]}}])})],1)],1),i("el-pagination",{attrs:{background:"",total:e.pageInfo.total,"page-count":e.pageInfo.pages,"current-page":e.pageInfo.current,"hide-on-single-page":""},on:{"current-change":e.currentChange}})],2)],1)},a=[],l={data:function(){return{noticeDataList:[],pageInfo:null,tableLoading:!1,multipleSelection:[],selectNoticeTitle:null,selectCreateTime:null,pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()},shortcuts:[{text:"今天",onClick:function(e){e.$emit("pick",new Date)}},{text:"昨天",onClick:function(e){var t=new Date;t.setTime(t.getTime()-864e5),e.$emit("pick",t)}}]}}},created:function(){this.refreshTableData(1,12)},methods:{currentChange:function(e){this.refreshTableData(e,12)},getNoticesData:function(e,t){var i=this;""===this.selectNoticeTitle&&(this.selectNoticeTitle=null),this.getRequest("/notice/",{current:e,size:t,title:this.selectNoticeTitle,createTime:this.selectCreateTime}).then((function(e){0===e.code&&(i.pageInfo=e.data,i.noticeDataList=i.pageInfo.records,i.tableLoading=!1)})).catch((function(e){i.tableLoading=!1,console.log(e)}))},selectNoticeByName:function(){this.refreshTableData(1,12)},handleSelectionChange:function(e){this.multipleSelection=e},handleDelete:function(e){var t=[];t[0]=e.id,this.deleteNoticesidList(t)},deleteNotices:function(){var e=[];if(this.multipleSelection.length>0){for(var t=0;t<this.multipleSelection.length;t++)e[t]=this.multipleSelection[t].id;this.deleteNoticesidList(e)}},handleEdit:function(e){this.$router.push({path:"/noticeedit",query:{noticeId:e.id}})},deleteNoticesidList:function(e){var t=this;this.tableLoading=!0,this.deleteRequest("/admin/notice/",e).then((function(e){0===e.code&&e.data&&(t.$message.success("删除成功"),t.getNoticesData(t.pageInfo.current,12),t.tableLoading=!1)})).catch((function(e){t.tableLoading=!1,console.log(e)}))},addNotice:function(){this.$router.push({path:"/noticeedit"})},refreshTableData:function(e,t){this.tableLoading=!0,this.getNoticesData(e,t)}}},o=l,c=(i("513f"),i("2877")),s=Object(c["a"])(o,n,a,!1,null,null,null);t["default"]=s.exports},"447f":function(e,t,i){},"513f":function(e,t,i){"use strict";var n=i("447f"),a=i.n(n);a.a}}]);
//# sourceMappingURL=chunk-d9c01114.e55fcf66.js.map