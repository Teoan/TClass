{"version":3,"sources":["webpack:///./src/views/work/workMana.vue?9b78","webpack:///src/views/work/workMana.vue","webpack:///./src/views/work/workMana.vue?8848","webpack:///./src/views/work/workMana.vue?1ebc","webpack:///./src/views/work/workMana.vue?ba79"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","height","staticStyle","nativeOn","$event","type","indexOf","_k","keyCode","key","selectWorkByName","model","value","callback","$$v","selectWorkName","expression","pickerOptions","selectCreateTime","on","_v","showDialog","dialogTitle","dialogSelectVisible","initData","directives","name","rawName","ref","rules","workData","$set","_l","item","enum","format","id","WorkLastTimePickerOptions","minRows","maxRows","slot","doEditWork","doAddWork","dialogExtensionVisible","whenDialogExtensionClose","extensionValidateForm","required","message","trigger","pattern","addExtension","extensions","tableRowClassName","scopedSlots","_u","fn","scope","row","deleteExtension","multipleSelection","length","deleteWorks","_e","workDataList","handleSelectionChange","fileNameFormat","handleEdit","uploadFileCount","handleUpload","pageInfo","total","pages","current","currentChange","staticRenderFns","data","tableLoading","workFormLoading","extensionTableLoading","isExtensionsChange","extension","isEditWork","fileNameFormats","lastTime","extensionId","fileNameFormatEnum","disabledDate","time","getTime","Date","now","sid","remarks","editSId","shortcuts","text","onClick","picker","$emit","date","setTime","computed","currentUser","undefined","$store","state","role","JSON","parse","localStorage","getItem","created","getWorksData","getExtension","methods","getRequest","resp","code","console","log","error","refreshTableData","val","idList","i","deleteWorksidList","then","deleteRequest","$refs","validate","valid","size","resetFields","title","$router","push","path","setItem","stringify","formName","component"],"mappings":"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","file":"static/js/chunk-46cf0963.6b6b332b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"workMana-div\"},[_c('el-card',{staticClass:\"box-card-workdata\",attrs:{\"shadow\":\"hover\",\"body-style\":{height:'100%'}}},[_c('el-input',{staticStyle:{\"width\":\"30%\",\"min-width\":\"180px\",\"margin-top\":\"20px\"},attrs:{\"placeholder\":\"请输入作业名字搜索\"},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.selectWorkByName($event)}},model:{value:(_vm.selectWorkName),callback:function ($$v) {_vm.selectWorkName=$$v},expression:\"selectWorkName\"}}),_c('el-date-picker',{staticStyle:{\"margin-left\":\"20px\",\"margin-top\":\"20px\"},attrs:{\"align\":\"right\",\"type\":\"date\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"placeholder\":\"选择发布日期\",\"picker-options\":_vm.pickerOptions},model:{value:(_vm.selectCreateTime),callback:function ($$v) {_vm.selectCreateTime=$$v},expression:\"selectCreateTime\"}}),_c('el-button',{staticStyle:{\"margin-left\":\"20px\",\"margin-top\":\"20px\"},attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.selectWorkByName}},[_vm._v(\"搜索\")]),_c('el-button',{staticStyle:{\"margin-left\":\"20px\",\"margin-top\":\"20px\"},attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.showDialog('发布')}}},[_vm._v(\"发布作业\")]),_c('el-dialog',{attrs:{\"title\":_vm.dialogTitle,\"visible\":_vm.dialogSelectVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.dialogSelectVisible=$event},\"close\":_vm.initData}},[_c('el-form',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.workFormLoading),expression:\"workFormLoading\"}],ref:\"workDataForm\",attrs:{\"rules\":_vm.rules,\"model\":_vm.workData,\"label-width\":\"auto\",\"status-icon\":true,\"label-position\":\"left\"}},[_c('el-form-item',{attrs:{\"label\":\"作业名称\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.workData.name),callback:function ($$v) {_vm.$set(_vm.workData, \"name\", $$v)},expression:\"workData.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"文件命名格式\",\"prop\":\"fileNameFormatEnum\"}},[_c('el-tooltip',{attrs:{\"content\":\"若选择无，则不强制修改用户提交文件的文件名\",\"placement\":\"right\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择文件命名格式\"},model:{value:(_vm.workData.fileNameFormatEnum),callback:function ($$v) {_vm.$set(_vm.workData, \"fileNameFormatEnum\", $$v)},expression:\"workData.fileNameFormatEnum\"}},_vm._l((_vm.fileNameFormats),function(item){return _c('el-option',{key:item.enum,attrs:{\"label\":item.format,\"value\":item.enum}})}),1)],1)],1),_c('el-form-item',{attrs:{\"label\":\"文件扩展名\",\"prop\":\"extensionId\"}},[_c('el-tooltip',{attrs:{\"content\":\"将对用户上传的文件进行扩展名验证\",\"placement\":\"right\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择文件扩展名\"},model:{value:(_vm.workData.extensionId),callback:function ($$v) {_vm.$set(_vm.workData, \"extensionId\", $$v)},expression:\"workData.extensionId\"}},_vm._l((_vm.extensions),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1)],1),_c('el-form-item',{attrs:{\"label\":\"截止提交时间\",\"prop\":\"lastTime\"}},[_c('el-tooltip',{attrs:{\"content\":\"超过截止提交时间，则用户无法提交文件\",\"placement\":\"right\"}},[_c('el-date-picker',{attrs:{\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"type\":\"datetime\",\"placeholder\":\"选择日期时间\",\"picker-options\":_vm.WorkLastTimePickerOptions},model:{value:(_vm.workData.lastTime),callback:function ($$v) {_vm.$set(_vm.workData, \"lastTime\", $$v)},expression:\"workData.lastTime\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"备注\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 2, maxRows: 4},\"placeholder\":\"请输入内容\"},model:{value:(_vm.workData.remarks),callback:function ($$v) {_vm.$set(_vm.workData, \"remarks\", $$v)},expression:\"workData.remarks\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[(_vm.isEditWork)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.doEditWork}},[_vm._v(\"完成编辑\")]):_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.doAddWork}},[_vm._v(\"发布\")])],1)],1),_c('el-button',{staticStyle:{\"margin-left\":\"20px\",\"margin-top\":\"20px\"},attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){_vm.dialogExtensionVisible = true}}},[_vm._v(\"编辑扩展名列表\")]),_c('el-dialog',{attrs:{\"title\":\"编辑扩展名列表\",\"visible\":_vm.dialogExtensionVisible,\"width\":\"400px\"},on:{\"update:visible\":function($event){_vm.dialogExtensionVisible=$event},\"close\":function($event){return _vm.whenDialogExtensionClose('extensionValidateForm')}}},[_c('el-form',{ref:\"extensionValidateForm\",attrs:{\"label-width\":\"auto\",\"model\":_vm.extensionValidateForm,\"inline\":true,\"status-icon\":true}},[_c('el-form-item',{attrs:{\"prop\":\"extension\",\"label\":\"扩展名\",\"rules\":[\n            { required: true, message: '请输入扩展名', trigger: 'blur' },\n            { pattern: /^\\.[0-9a-zA-Z]+$/, message: '请输入正确的扩展名', trigger: ['blur', 'change'] }\n          ]}},[_c('el-input',{attrs:{\"size\":\"small\"},model:{value:(_vm.extensionValidateForm.extension),callback:function ($$v) {_vm.$set(_vm.extensionValidateForm, \"extension\", $$v)},expression:\"extensionValidateForm.extension\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.addExtension}},[_vm._v(\"添加\")])],1)],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.extensionTableLoading),expression:\"extensionTableLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.extensions,\"max-height\":\"200px\",\"row-class-name\":_vm.tableRowClassName}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"扩展名\",\"width\":\"200\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"min-width\":\"80\",\"fixed\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"cell-contain\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"danger\",\"disabled\":scope.row.id===1},on:{\"click\":function($event){return _vm.deleteExtension(scope.row)}}},[_vm._v(\"删除\")])],1)]}}])})],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogExtensionVisible = false}}},[_vm._v(\"完成编辑\")])],1)],1),(_vm.multipleSelection.length > 0)?[_c('el-popconfirm',{attrs:{\"title\":\"删除作业会将已提交的文件一并删除\"},on:{\"onConfirm\":_vm.deleteWorks}},[_c('el-button',{staticStyle:{\"margin-left\":\"20px\"},attrs:{\"slot\":\"reference\",\"type\":\"danger\",\"icon\":\"el-icon-delete\"},slot:\"reference\"},[_vm._v(\"批量删除\")])],1)]:_vm._e(),_c('div',{staticClass:\"table-div\"},[_c('el-tooltip',{attrs:{\"content\":\"选中可进行批量删除\",\"placement\":\"top-start\"}},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.tableLoading),expression:\"tableLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.workDataList,\"height\":\"100%\",\"border\":\"\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-tooltip',{attrs:{\"content\":\"选中可进行批量删除\",\"placement\":\"top\"}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}})],1),_c('el-table-column',{attrs:{\"fixed\":\"\",\"prop\":\"name\",\"label\":\"作业名称\",\"min-width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"fileNameFormatEnum\",\"formatter\":_vm.fileNameFormat,\"label\":\"文件名规则\",\"min-width\":\"80\"}}),_c('el-table-column',{attrs:{\"prop\":\"extensionName\",\"label\":\"文件扩展名\",\"min-width\":\"60\"}}),_c('el-table-column',{attrs:{\"prop\":\"lastTime\",\"label\":\"截止提交时间\",\"min-width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"remarks\",\"label\":\"备注\",\"min-width\":\"110\"}}),_c('el-table-column',{attrs:{\"prop\":\"editorName\",\"label\":\"最近编辑\",\"min-width\":\"50\"}}),_c('el-table-column',{attrs:{\"prop\":\"createTime\",\"label\":\"发布时间\",\"min-width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"updateTime\",\"label\":\"更新时间\",\"min-width\":\"100\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"fixed\":\"right\",\"min-width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"cell-contain\"},[[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row)}}},[_vm._v(\"编辑\")])],_c('el-badge',{staticClass:\"handle-div\",attrs:{\"value\":scope.row.uploadFileCount}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"info\",\"disabled\":scope.row.uploadFileCount===0},on:{\"click\":function($event){return _vm.handleUpload(scope.row)}}},[_vm._v(\"查看提交情况\")])],1)],2)]}}])})],1)],1)],1),_c('el-pagination',{attrs:{\"background\":\"\",\"total\":_vm.pageInfo.total,\"page-count\":_vm.pageInfo.pages,\"current-page\":_vm.pageInfo.current,\"hide-on-single-page\":\"\"},on:{\"current-change\":_vm.currentChange}})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <span class=\"workMana-div\">\r\n    <el-card\r\n      class=\"box-card-workdata\"\r\n      shadow=\"hover\"\r\n      :body-style=\"{height:'100%'}\"\r\n    >\r\n      <el-input v-model=\"selectWorkName\" placeholder=\"请输入作业名字搜索\" style=\"width: 30%;min-width: 180px;margin-top:20px\" @keydown.enter.native=\"selectWorkByName\" />\r\n      <el-date-picker\r\n        v-model=\"selectCreateTime\"\r\n        align=\"right\"\r\n        type=\"date\"\r\n        value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n        placeholder=\"选择发布日期\"\r\n        :picker-options=\"pickerOptions\"\r\n        style=\"margin-left:20px;margin-top:20px\"\r\n      />\r\n      <el-button type=\"primary\" style=\"margin-left:20px;margin-top:20px\" icon=\"el-icon-search\" @click=\"selectWorkByName\">搜索</el-button>\r\n      <el-button type=\"primary\" style=\"margin-left:20px;margin-top:20px\" icon=\"el-icon-edit\" @click=\"showDialog('发布')\">发布作业</el-button>\r\n      <el-dialog :title=\"dialogTitle\" :visible.sync=\"dialogSelectVisible\" width=\"30%\" @close=\"initData\">\r\n        <el-form ref=\"workDataForm\" v-loading=\"workFormLoading\" :rules=\"rules\" :model=\"workData\" label-width=\"auto\" :status-icon=\"true\" label-position=\"left\">\r\n          <el-form-item label=\"作业名称\" prop=\"name\">\r\n            <el-input v-model=\"workData.name\" />\r\n          </el-form-item>\r\n          <el-form-item label=\"文件命名格式\" prop=\"fileNameFormatEnum\">\r\n            <el-tooltip content=\"若选择无，则不强制修改用户提交文件的文件名\" placement=\"right\">\r\n              <el-select\r\n                v-model=\"workData.fileNameFormatEnum\"\r\n                placeholder=\"请选择文件命名格式\"\r\n              >\r\n                <el-option\r\n                  v-for=\"item in fileNameFormats\"\r\n                  :key=\"item.enum\"\r\n                  :label=\"item.format\"\r\n                  :value=\"item.enum\"\r\n                />\r\n              </el-select>\r\n            </el-tooltip>\r\n          </el-form-item>\r\n          <el-form-item label=\"文件扩展名\" prop=\"extensionId\">\r\n            <el-tooltip content=\"将对用户上传的文件进行扩展名验证\" placement=\"right\">\r\n              <el-select\r\n                v-model=\"workData.extensionId\"\r\n                placeholder=\"请选择文件扩展名\"\r\n              >\r\n                <el-option\r\n                  v-for=\"item in extensions\"\r\n                  :key=\"item.id\"\r\n                  :label=\"item.name\"\r\n                  :value=\"item.id\"\r\n                />\r\n              </el-select>\r\n            </el-tooltip>\r\n          </el-form-item>\r\n          <el-form-item label=\"截止提交时间\" prop=\"lastTime\">\r\n            <el-tooltip content=\"超过截止提交时间，则用户无法提交文件\" placement=\"right\">\r\n              <el-date-picker v-model=\"workData.lastTime\" value-format=\"yyyy-MM-dd HH:mm:ss\" type=\"datetime\" placeholder=\"选择日期时间\" :picker-options=\"WorkLastTimePickerOptions\" />\r\n            </el-tooltip>\r\n          </el-form-item>\r\n          <el-form-item label=\"备注\">\r\n            <el-input v-model=\"workData.remarks\" type=\"textarea\" :autosize=\"{ minRows: 2, maxRows: 4}\" placeholder=\"请输入内容\" />\r\n          </el-form-item>\r\n        </el-form>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button v-if=\"isEditWork\" type=\"primary\" @click=\"doEditWork\">完成编辑</el-button>\r\n          <el-button v-else type=\"primary\" @click=\"doAddWork\">发布</el-button>\r\n        </span>\r\n      </el-dialog>\r\n      <el-button type=\"primary\" style=\"margin-left:20px;margin-top:20px\" icon=\"el-icon-edit\" @click=\"dialogExtensionVisible = true\">编辑扩展名列表</el-button>\r\n      <el-dialog title=\"编辑扩展名列表\" :visible.sync=\"dialogExtensionVisible\" width=\"400px\" @close=\"whenDialogExtensionClose('extensionValidateForm')\">\r\n        <el-form ref=\"extensionValidateForm\" label-width=\"auto\" :model=\"extensionValidateForm\" :inline=\"true\" :status-icon=\"true\">\r\n          <el-form-item\r\n            prop=\"extension\"\r\n            label=\"扩展名\"\r\n            :rules=\"[\r\n              { required: true, message: '请输入扩展名', trigger: 'blur' },\r\n              { pattern: /^\\.[0-9a-zA-Z]+$/, message: '请输入正确的扩展名', trigger: ['blur', 'change'] }\r\n            ]\"\r\n          >\r\n            <el-input v-model=\"extensionValidateForm.extension\" size=\"small\" style=\"\" />\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button size=\"small\" type=\"primary\" @click=\"addExtension\">添加</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n        <el-table\r\n          v-loading=\"extensionTableLoading\"\r\n          :data=\"extensions\"\r\n          style=\"width: 100%;\"\r\n          max-height=\"200px\"\r\n          :row-class-name=\"tableRowClassName\"\r\n        >\r\n          <el-table-column\r\n            prop=\"name\"\r\n            label=\"扩展名\"\r\n            width=\"200\"\r\n          />\r\n          <el-table-column label=\"操作\" min-width=\"80\" fixed=\"right\">\r\n            <template slot-scope=\"scope\">\r\n              <div class=\"cell-contain\">\r\n                <el-button size=\"small\" type=\"danger\" :disabled=\"scope.row.id===1\" @click=\"deleteExtension(scope.row)\">删除</el-button>\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button type=\"primary\" @click=\"dialogExtensionVisible = false\">完成编辑</el-button>\r\n        </span>\r\n      </el-dialog>\r\n      <template v-if=\"multipleSelection.length > 0\">\r\n        <el-popconfirm\r\n          title=\"删除作业会将已提交的文件一并删除\"\r\n          @onConfirm=\"deleteWorks\"\r\n        >\r\n          <el-button slot=\"reference\" type=\"danger\" style=\"margin-left:20px\" icon=\"el-icon-delete\">批量删除</el-button>\r\n        </el-popconfirm>\r\n      </template>\r\n      <div class=\"table-div\">\r\n        <el-tooltip content=\"选中可进行批量删除\" placement=\"top-start\">\r\n          <el-table\r\n            v-loading=\"tableLoading\"\r\n            :data=\"workDataList\"\r\n            style=\"width: 100%\"\r\n            height=\"100%\"\r\n            border\r\n            @selection-change=\"handleSelectionChange\"\r\n          >\r\n            <el-tooltip content=\"选中可进行批量删除\" placement=\"top\">\r\n              <el-table-column\r\n                type=\"selection\"\r\n                width=\"55\"\r\n              />\r\n            </el-tooltip>\r\n            <el-table-column\r\n              fixed\r\n              prop=\"name\"\r\n              label=\"作业名称\"\r\n              min-width=\"100\"\r\n            />\r\n            <el-table-column\r\n              prop=\"fileNameFormatEnum\"\r\n              :formatter=\"fileNameFormat\"\r\n              label=\"文件名规则\"\r\n              min-width=\"80\"\r\n            />\r\n            <el-table-column\r\n              prop=\"extensionName\"\r\n              label=\"文件扩展名\"\r\n              min-width=\"60\"\r\n            />\r\n            <el-table-column\r\n              prop=\"lastTime\"\r\n              label=\"截止提交时间\"\r\n              min-width=\"100\"\r\n            />\r\n            <el-table-column\r\n              prop=\"remarks\"\r\n              label=\"备注\"\r\n              min-width=\"110\"\r\n            />\r\n            <el-table-column\r\n              prop=\"editorName\"\r\n              label=\"最近编辑\"\r\n              min-width=\"50\"\r\n            />\r\n            <el-table-column\r\n              prop=\"createTime\"\r\n              label=\"发布时间\"\r\n              min-width=\"100\"\r\n            />\r\n            <el-table-column\r\n              prop=\"updateTime\"\r\n              label=\"更新时间\"\r\n              min-width=\"100\"\r\n            />\r\n            <el-table-column label=\"操作\" fixed=\"right\" min-width=\"200\">\r\n              <template slot-scope=\"scope\">\r\n                <div class=\"cell-contain\">\r\n                  <template class=\"handle-div\">\r\n                    <el-button size=\"small\" type=\"primary\" @click=\"handleEdit(scope.row)\">编辑</el-button>\r\n                  </template>\r\n                  <el-badge :value=\"scope.row.uploadFileCount\" class=\"handle-div\">\r\n                    <el-button size=\"small\" type=\"info\" :disabled=\"scope.row.uploadFileCount===0\" @click=\"handleUpload(scope.row)\">查看提交情况</el-button>\r\n                  </el-badge>\r\n                </div>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </el-tooltip>\r\n      </div>\r\n      <el-pagination\r\n        background\r\n        :total=\"pageInfo.total\"\r\n        :page-count=\"pageInfo.pages\"\r\n        :current-page=\"pageInfo.current\"\r\n        hide-on-single-page\r\n        @current-change=\"currentChange\"\r\n      />\r\n    </el-card>\r\n  </span>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      workDataList: [],\r\n      pageInfo: null,\r\n      tableLoading: false,\r\n      multipleSelection: [],\r\n      selectWorkName: null,\r\n      selectCreateTime: null,\r\n      dialogSelectVisible: false,\r\n      dialogExtensionVisible: false,\r\n      dialogTitle: '',\r\n      workFormLoading: false,\r\n      extensionTableLoading: false,\r\n      isExtensionsChange: false,\r\n      extensionValidateForm: {\r\n        extension: ''\r\n      },\r\n      extensions: [],\r\n      isEditWork: false,\r\n      fileNameFormats: [{ enum: 1, format: '无' },\r\n        { enum: 2, format: '学号-姓名-作业名' },\r\n        { enum: 3, format: '姓名-学号-作业名' },\r\n        { enum: 4, format: '姓名-作业名' },\r\n        { enum: 5, format: '学号-作业名' }],\r\n      rules: {\r\n        name: [{ required: true, message: '请输入作业名称', trigger: 'blur' }],\r\n        lastTime: [{ required: true, message: '请输入截止提交时间', trigger: 'blur' }],\r\n        extensionId: [{ required: true, message: '选择文件拓展名', trigger: 'blur' }],\r\n        fileNameFormatEnum: [{ required: true, message: '请输入文件命名格式', trigger: 'blur' }]\r\n      },\r\n      WorkLastTimePickerOptions: {\r\n        disabledDate(time) {\r\n          return time.getTime() <= Date.now()\r\n        }\r\n      },\r\n      workData: {\r\n        id: null,\r\n        sid: null,\r\n        fileNameFormatEnum: null,\r\n        extensionId: null,\r\n        name: null,\r\n        lastTime: null,\r\n        remarks: null,\r\n        editSId: null\r\n      },\r\n      pickerOptions: {\r\n        disabledDate(time) {\r\n          return time.getTime() > Date.now()\r\n        },\r\n        shortcuts: [{\r\n          text: '今天',\r\n          onClick(picker) {\r\n            picker.$emit('pick', new Date())\r\n          }\r\n        }, {\r\n          text: '昨天',\r\n          onClick(picker) {\r\n            const date = new Date()\r\n            date.setTime(date.getTime() - 3600 * 1000 * 24)\r\n            picker.$emit('pick', date)\r\n          }\r\n        }]\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    currentUser() {\r\n      if (this.$store.state.currentUser.role !== undefined) {\r\n        return this.$store.state.currentUser\r\n      } else {\r\n        return JSON.parse(localStorage.getItem('INIT_CURRENTUSER'))\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.getWorksData(1, 10)\r\n    this.getExtension()\r\n  },\r\n  methods: {\r\n    currentChange(current) {\r\n      this.getWorksData(current, 10)\r\n    },\r\n    getWorksData(current, size) {\r\n      if (this.selectWorkName === '') {\r\n        this.selectWorkName = null\r\n      }\r\n      this.getRequest('/work/', { current: current, size: size, name: this.selectWorkName, createTime: this.selectCreateTime }).then(resp => {\r\n        if (resp.code === 0) {\r\n          this.pageInfo = resp.data\r\n          this.workDataList = this.pageInfo.records\r\n          this.tableLoading = false\r\n        }\r\n      }).catch(error => {\r\n        this.tableLoading = false\r\n        console.log(error)\r\n      })\r\n    },\r\n    selectWorkByName() {\r\n      this.refreshTableData(1, 10)\r\n    },\r\n    handleSelectionChange(val) {\r\n      this.multipleSelection = val\r\n    },\r\n    deleteWorks() {\r\n      var idList = []\r\n      if (this.multipleSelection.length > 0) {\r\n        for (var i = 0; i < this.multipleSelection.length; i++) {\r\n          idList[i] = this.multipleSelection[i].id\r\n        }\r\n        this.deleteWorksidList(idList)\r\n      }\r\n    },\r\n    handleEdit(row) {\r\n      this.showDialog('编辑')\r\n      this.isEditWork = true\r\n      this.workFormLoading = true\r\n      this.getRequest('/admin/work/' + row.id).then(resp => {\r\n        if (resp.code === 0) {\r\n          this.workData.id = resp.data.id\r\n          this.workData.fileNameFormatEnum = resp.data.fileNameFormatEnum\r\n          this.workData.name = resp.data.name\r\n          this.workData.lastTime = resp.data.lastTime\r\n          this.workData.remarks = resp.data.remarks\r\n          this.workData.extensionId = resp.data.extensionId\r\n          this.workFormLoading = false\r\n        }\r\n      }).catch(error => {\r\n        console.log(error)\r\n        this.workFormLoading = false\r\n      })\r\n    },\r\n    deleteWorksidList(idList) {\r\n      this.tableLoading = true\r\n      this.deleteRequest('/admin/work/', idList).then(resp => {\r\n        if (resp.code === 0 && resp.data) {\r\n          this.$message.success('删除成功!')\r\n          this.refreshTableData(this.pageInfo.current, 10)\r\n        }\r\n      }).catch(error => {\r\n        this.tableLoading = false\r\n        this.$message.error(error.msg)\r\n        console.log(error)\r\n      })\r\n    },\r\n    doAddWork() {\r\n      this.$refs['workDataForm'].validate((valid) => {\r\n        if (valid) {\r\n          this.workFormLoading = true\r\n          this.workData.sid = this.currentUser.id\r\n          this.postRequest('/admin/work/', this.workData).then(resp => {\r\n            if (resp.code === 0) {\r\n              this.$message.success('发布成功!')\r\n              this.workFormLoading = false\r\n              this.dialogSelectVisible = false\r\n              this.refreshTableData(1, 10)\r\n            }\r\n          }).catch(error => {\r\n            this.$message.success('发布失败!')\r\n            this.workFormLoading = false\r\n            console.log(error)\r\n          })\r\n        } else {\r\n          console.log('error submit!!')\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    refreshTableData(current, size) {\r\n      this.tableLoading = true\r\n      this.getWorksData(current, size)\r\n    },\r\n    initData() {\r\n      this.workData.id = null\r\n      this.workData.sid = null\r\n      this.workData.fileNameFormatEnum = null\r\n      this.workData.name = null\r\n      this.workData.lastTime = null\r\n      this.workData.remarks = null\r\n      this.workData.editSId = null\r\n      this.workData.extensionId = null\r\n      this.isEditWork = false\r\n      this.$refs['workDataForm'].resetFields()\r\n    },\r\n    showDialog(title) {\r\n      this.dialogTitle = title\r\n      this.dialogSelectVisible = true\r\n    },\r\n    doEditWork() {\r\n      this.$refs['workDataForm'].validate((valid) => {\r\n        if (valid) {\r\n          this.workData.editSId = this.currentUser.id\r\n          this.putRequest('/admin/work/', this.workData).then(resp => {\r\n            if (resp.code === 0) {\r\n              this.$message.success('编辑成功!')\r\n              this.dialogSelectVisible = false\r\n              this.refreshTableData(this.pageInfo.current, 10)\r\n            }\r\n          }).catch(error => {\r\n            this.$message.error('编辑失败!')\r\n            console.log(error)\r\n          })\r\n        } else {\r\n          console.log('error submit!!')\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    getExtension() {\r\n      this.getRequest('/work/extensions').then(resp => {\r\n        if (resp.code === 0) {\r\n          this.extensions = resp.data\r\n        }\r\n      })\r\n    },\r\n    fileNameFormat(row, column) {\r\n      return this.fileNameFormats[row.fileNameFormatEnum - 1].format\r\n    },\r\n    handleUpload(row) {\r\n      this.$router.push({\r\n        path: '/workuploadinfo'\r\n      })\r\n      // 将work对象保存到本地\r\n      localStorage.setItem('work', JSON.stringify(row))\r\n    },\r\n    deleteExtension(extension) {\r\n      this.extensionTableLoading = true\r\n      this.deleteRequest('/admin/work/extensions', { id: extension.id }).then(resp => {\r\n        if (resp.code === 0 && resp.data === true) {\r\n          this.$message.success('删除成功！')\r\n          this.getExtension()\r\n          this.isExtensionsChange = true\r\n        } else {\r\n          this.$message.error('删除失败！')\r\n        }\r\n        this.extensionTableLoading = false\r\n      }).catch(error => {\r\n        this.$message.error('删除失败！')\r\n        this.extensionTableLoading = false\r\n        console.log(error)\r\n      })\r\n    },\r\n    addExtension() {\r\n      this.$refs['extensionValidateForm'].validate((valid) => {\r\n        if (valid) {\r\n          this.extensionTableLoading = true\r\n          this.postRequest('/admin/work/extensions', { name: this.extensionValidateForm.extension }).then(resp => {\r\n            if (resp.code === 0 && resp.data === true) {\r\n              this.$message.success('添加成功！')\r\n              this.getExtension()\r\n              this.isExtensionsChange = true\r\n            } else {\r\n              this.$message.error('添加失败！')\r\n            }\r\n            this.extensionTableLoading = false\r\n          }).catch(error => {\r\n            this.extensionTableLoading = false\r\n            console.log(error)\r\n          })\r\n        } else {\r\n          console.log('error submit!!')\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    whenDialogExtensionClose(formName) {\r\n      this.$refs[formName].resetFields()\r\n      if (this.isExtensionsChange) {\r\n        this.refreshTableData(1, 10)\r\n        this.isExtensionsChange = false\r\n      }\r\n    },\r\n    tableRowClassName(row, index) {\r\n      if (row.id === 1) {\r\n        return 'hidden-row'\r\n      }\r\n      return ''\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n.box-card-workdata {\r\n    width: 80%;\r\n    height: 100%;\r\n}\r\n.workMana-div {\r\n    display: flex;\r\n    justify-content:center;\r\n    align-items:center;\r\n    height: 100%;\r\n}\r\n.table-div {\r\n    margin: 20px 0;\r\n    height: 70%;\r\n}\r\n.handle-div {\r\n  margin-top: 10px;\r\n  margin-left: 10px;\r\n  margin-bottom: 10px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./workMana.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./workMana.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./workMana.vue?vue&type=template&id=7af1af0d&\"\nimport script from \"./workMana.vue?vue&type=script&lang=js&\"\nexport * from \"./workMana.vue?vue&type=script&lang=js&\"\nimport style0 from \"./workMana.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./workMana.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./workMana.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}